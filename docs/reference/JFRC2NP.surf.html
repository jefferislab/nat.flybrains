<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Surface model of the Insect Brain Name Working Group neuropil segmentation in
JFRC2 coordinate space — JFRC2NP.surf • nat.flybrains</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Surface model of the Insect Brain Name Working Group neuropil segmentation in
JFRC2 coordinate space — JFRC2NP.surf" />

<meta property="og:description" content="Surface model of the Insect Brain Name Working Group neuropil segmentation in
JFRC2 coordinate space" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nat.flybrains</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../SUPPORT.html">Help</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://natverse.github.io">natverse</a>
</li>
<li>
  <a href="https://github.com/natverse/nat.flybrains">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Surface model of the Insect Brain Name Working Group neuropil segmentation in
JFRC2 coordinate space</h1>
    <small class="dont-index">Source: <a href='https://github.com/natverse/nat.flybrains/blob/master/R/DATA.r'><code>R/DATA.r</code></a></small>
    <div class="hidden name"><code>JFRC2NP.surf.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Surface model of the Insect Brain Name Working Group neuropil segmentation in
JFRC2 coordinate space</p>
    
    </div>

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that the supplementary information for the Insect Brain Name
  working group only includes neuropil information in the <code><a href='IBN.html'>IBN</a></code>
  space, which can be downloaded from
  <a href='ftp://flybase.org/flybase/associated_files/InsectBrainNomenclature_RawData.zip'>ftp://flybase.org/flybase/associated_files/InsectBrainNomenclature_RawData.zip</a>.</p>
    <p>However Arnim Jenett, Kazunori Shinomiya and Kei Ito generated a full brain
  segmentation based on the <code><a href='JFRC2.html'>JFRC2</a></code> template (used by the Virtual
  Fly Brain project and internally at Janelia Farm for several years.)</p>
<p>This surface model was generated in Amira from the segmentation in the file
  <code>JFRCtempate2010.mask130819.am</code> with md5
  <code>d0a40b38d1a0045a423d947ebf1778d2</code>. The data are available in a github
  repository <a href='https://github.com/VirtualFlyBrain/DrosAdultBRAINdomains'>https://github.com/VirtualFlyBrain/DrosAdultBRAINdomains</a>.
  The original full size model was then simplified to reduce the number of
  vertices resulting</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Kei Ito, Kazunori Shinomiya, Masayoshi Ito, J. Douglas Armstrong,
  George Boyan, Volker Hartenstein, Steffen Harzsch, Martin Heisenberg, Uwe
  Homberg, Arnim Jenett, Haig Keshishian, Linda L. Restifo, Wolfgang
  Rössler, Julie H. Simpson, Nicholas J. Strausfeld, Roland
  Strauss, Leslie B. Vosshall, Insect Brain Name Working Group (2013). A
  systematic nomenclature for the insect brain. Neuron 81 (4), 755-765.
  <a href='http://dx.doi.org/10.1016/j.neuron.2013.12.017'>doi:10.1016/j.neuron.2013.12.017</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='JFRC2.html'>JFRC2</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># list the materials for the different surface regions</span>
<span class='fu'>materials</span>(<span class='no'>JFRC2NP.surf</span>)</div><div class='output co'>#&gt;              name id     col
#&gt; AME_R       AME_R  1 #3C29CC
#&gt; LO_R         LO_R  2 #29CC99
#&gt; NO             NO  3 #47CC29
#&gt; BU_R         BU_R  4 #2960CC
#&gt; PB             PB  5 #CC8229
#&gt; LH_R         LH_R  6 #CC2855
#&gt; LAL_R       LAL_R  7 #CC6C28
#&gt; SAD           SAD  8 #9CCC27
#&gt; CAN_R       CAN_R  9 #EBBD79
#&gt; AMMC_R     AMMC_R 10 #47CC29
#&gt; ICL_R       ICL_R 11 #CCA229
#&gt; VES_R       VES_R 12 #FF7E7E
#&gt; IB_R         IB_R 13 #B529CC
#&gt; ATL_R       ATL_R 14 #7E7EFF
#&gt; CRE_R       CRE_R 15 #79EB93
#&gt; MB_PED_R MB_PED_R 16 #CC69C0
#&gt; MB_VL_R   MB_VL_R 17 #29CCB4
#&gt; MB_ML_R   MB_ML_R 18 #A529CC
#&gt; FLA_R       FLA_R 19 #282DCC
#&gt; LOP_R       LOP_R 20 #7E7EFF
#&gt; EB             EB 21 #29CC6C
#&gt; AL_R         AL_R 22 #FF23DA
#&gt; ME_R         ME_R 23 #DC1717
#&gt; FB             FB 24 #A429CC
#&gt; SLP_R       SLP_R 25 #8BCC29
#&gt; SIP_R       SIP_R 26 #28CC4D
#&gt; SMP_R       SMP_R 27 #2987CC
#&gt; AVLP_R     AVLP_R 28 #27CCCC
#&gt; PVLP_R     PVLP_R 29 #6728CC
#&gt; WED_R       WED_R 30 #CC2763
#&gt; PLP_R       PLP_R 31 #00A48D
#&gt; AOTU_R     AOTU_R 32 #28CC60
#&gt; GOR_R       GOR_R 33 #CC2859
#&gt; MB_CA_R   MB_CA_R 34 #5E5ECC
#&gt; SPS_R       SPS_R 35 #EB9FD7
#&gt; IPS_R       IPS_R 36 #6565F7
#&gt; SCL_R       SCL_R 37 #C927CC
#&gt; EPA_R       EPA_R 38 #29CC3F
#&gt; GNG           GNG 39 #CC28A7
#&gt; PRW           PRW 40 #29CC85
#&gt; GA_R         GA_R 41 #141766
#&gt; AME_L       AME_L 42 #3B28CC
#&gt; LO_L         LO_L 43 #28CC99
#&gt; BU_L         BU_L 44 #2860CC
#&gt; LH_L         LH_L 45 #CC2855
#&gt; LAL_L       LAL_L 46 #CC6C28
#&gt; CAN_L       CAN_L 47 #EBBD79
#&gt; AMMC_L     AMMC_L 48 #46CC28
#&gt; ICL_L       ICL_L 49 #CCA228
#&gt; VES_L       VES_L 50 #FF7E7E
#&gt; IB_L         IB_L 51 #B528CC
#&gt; ATL_L       ATL_L 52 #7E7EFF
#&gt; CRE_L       CRE_L 53 #79EB93
#&gt; MB_PED_L MB_PED_L 54 #CC69BF
#&gt; MB_VL_L   MB_VL_L 55 #28CCB4
#&gt; MB_ML_L   MB_ML_L 56 #A528CC
#&gt; FLA_L       FLA_L 57 #282DCC
#&gt; LOP_L       LOP_L 58 #0100FF
#&gt; AL_L         AL_L 59 #FF23D9
#&gt; ME_L         ME_L 60 #DB1717
#&gt; SLP_L       SLP_L 61 #8BCC28
#&gt; SIP_L       SIP_L 62 #28CC4D
#&gt; SMP_L       SMP_L 63 #2887CC
#&gt; AVLP_L     AVLP_L 64 #26CCCC
#&gt; PVLP_L     PVLP_L 65 #6728CC
#&gt; WED_L       WED_L 66 #CC2663
#&gt; PLP_L       PLP_L 67 #00A38D
#&gt; AOTU_L     AOTU_L 68 #28CC5F
#&gt; GOR_L       GOR_L 69 #CC2828
#&gt; MB_CA_L   MB_CA_L 70 #5D5ECC
#&gt; SPS_L       SPS_L 71 #EB9ED7
#&gt; IPS_L       IPS_L 72 #6464F7
#&gt; SCL_L       SCL_L 73 #C926CC
#&gt; EPA_L       EPA_L 74 #28CC3E
#&gt; GA_L         GA_L 75 #141666</div><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'># plot the surface</span>
<span class='fu'>plot3d</span>(<span class='no'>JFRC2NP.surf</span>)

<span class='co'># calculate volumes ond surface areas for all regions</span>
<span class='kw'>if</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='st'>"RvtkStatismo"</span>) <span class='kw'>&amp;&amp;</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='st'>"tidyr"</span>) <span class='kw'>&amp;&amp;</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='st'>"ggplot2"</span>) <span class='kw'>&amp;&amp;</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>require</a></span>(<span class='st'>"stringr"</span>)){
  <span class='co'># convert each region to a mesh3d object, note that we use simplify=FALSE</span>
  <span class='co'># to stop sapply mangling the result</span>
  <span class='no'>meshes</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lapply'>sapply</a></span>(<span class='no'>JFRC2NP.surf</span>$<span class='no'>RegionList</span>,
    <span class='kw'>function</span>(<span class='no'>r</span>) <span class='fu'>as.mesh3d</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='no'>JFRC2NP.surf</span>, <span class='no'>r</span>)), <span class='kw'>simplify</span><span class='kw'>=</span><span class='fl'>FALSE</span>)

  <span class='co'># now calculate information for each mesh</span>
  <span class='co'># NB vtkMeshInfo returns a list so we need to convert to a vector</span>
  <span class='co'># to end up with a nice matrix output</span>
  <span class='no'>vs</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lapply'>sapply</a></span>(<span class='no'>meshes</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/unlist'>unlist</a></span>(<span class='fu'>vtkMeshInfo</span>(<span class='no'>x</span>)))

  <span class='co'># now make that into a tidy data.frame and plot</span>
  <span class='no'>df</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(<span class='kw'>key</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colnames'>colnames</a></span>(<span class='no'>vs</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/t'>t</a></span>(<span class='no'>vs</span>),
                <span class='kw'>region</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/grep'>sub</a></span>(<span class='st'>"_[LR]"</span>, <span class='st'>""</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colnames'>colnames</a></span>(<span class='no'>vs</span>)),
                <span class='kw'>side</span><span class='kw'>=</span><span class='fu'><a href='https://stringr.tidyverse.org/reference/str_match.html'>str_match</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colnames'>colnames</a></span>(<span class='no'>vs</span>), <span class='st'>"_([LR])"</span>)[,<span class='fl'>2</span>])

  <span class='no'>df2</span><span class='kw'>=</span><span class='fu'><a href='https://tidyr.tidyverse.org/reference/gather.html'>gather</a></span>(<span class='no'>df</span>, <span class='no'>measure</span>, <span class='no'>value</span>, <span class='no'>volume</span>:<span class='no'>surfaceArea</span>)
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>ggplot2</span>)
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/qplot.html'>qplot</a></span>( <span class='no'>value</span>, <span class='no'>region</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>df2</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='no'>side</span>, <span class='kw'>facets</span> <span class='kw'>=</span> <span class='no'>.</span> ~ <span class='no'>measure</span>) + <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span>()

}

<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis, James Manton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

